@section('title', 'Liên hệ')


@extends('client.layouts.app')

@section('content')
<main class="wrapperMain_content">
  <div class="style_01 layout-productDetail layout-pageProduct">
    <section class="productDetail-information productDetail_style__01">
      <div class="container container-pd0">
        <div class="productDetail--main">
          <div class="productDetail--gallery">
            <div class="product-container-gallery">
              <div class="wrapbox-gallery">
                <div class="wrapbox-image">
                  <div class="productGallery_slider">
                    <div class="productList-slider productCarousel-slider owl-carousel" id="productCarousel-slider">
                      <div class="product-gallery boxlazy-img" data-image="//product.hstatic.net/200000249781/product/8_46e59d9aa2aa45c2a100c6182244dd59_master.jpg"
                      data-imgbuyxgety="//product.hstatic.net/200000249781/product/8_46e59d9aa2aa45c2a100c6182244dd59_thumb.jpg">
                        <div class="boxlazy-img__insert lazy-img__prod">
                          <span class="boxlazy-img__aspect">
                            <a class="product-gallery__item" data-fancybox="gallery" href="//product.hstatic.net/200000249781/product/8_46e59d9aa2aa45c2a100c6182244dd59_master.jpg">
                              <img src="//product.hstatic.net/200000249781/product/8_46e59d9aa2aa45c2a100c6182244dd59_master.jpg"
                              alt=" Tạp ch&#237; GGWP số 01 ">
                            </a>
                          </span>
                        </div>
                      </div>
                      <div class="product-gallery boxlazy-img" data-image="//product.hstatic.net/200000249781/product/10_3266eae8fa7d49e1a17fcb3f224508f1_master.jpg"
                      data-imgbuyxgety="//product.hstatic.net/200000249781/product/10_3266eae8fa7d49e1a17fcb3f224508f1_thumb.jpg">
                        <div class="boxlazy-img__insert lazy-img__prod">
                          <span class="boxlazy-img__aspect">
                            <a class="product-gallery__item" data-fancybox="gallery" href="//product.hstatic.net/200000249781/product/10_3266eae8fa7d49e1a17fcb3f224508f1_master.jpg">
                              <img src="//product.hstatic.net/200000249781/product/10_3266eae8fa7d49e1a17fcb3f224508f1_master.jpg"
                              alt=" Tạp ch&#237; GGWP số 01 ">
                            </a>
                          </span>
                        </div>
                      </div>
                      <div class="product-gallery boxlazy-img" data-image="//product.hstatic.net/200000249781/product/9_07e8d7093d884b478d0854908b0d1433_master.jpg"
                      data-imgbuyxgety="//product.hstatic.net/200000249781/product/9_07e8d7093d884b478d0854908b0d1433_thumb.jpg">
                        <div class="boxlazy-img__insert lazy-img__prod">
                          <span class="boxlazy-img__aspect">
                            <a class="product-gallery__item" data-fancybox="gallery" href="//product.hstatic.net/200000249781/product/9_07e8d7093d884b478d0854908b0d1433_master.jpg">
                              <img src="//product.hstatic.net/200000249781/product/9_07e8d7093d884b478d0854908b0d1433_master.jpg"
                              alt=" Tạp ch&#237; GGWP số 01 ">
                            </a>
                          </span>
                        </div>
                      </div>
                      <div class="product-gallery boxlazy-img" data-image="//product.hstatic.net/200000249781/product/5_e7ac9c2c34294f828a033864ad092e0b_master.jpg"
                      data-imgbuyxgety="//product.hstatic.net/200000249781/product/5_e7ac9c2c34294f828a033864ad092e0b_thumb.jpg">
                        <div class="boxlazy-img__insert lazy-img__prod">
                          <span class="boxlazy-img__aspect">
                            <a class="product-gallery__item" data-fancybox="gallery" href="//product.hstatic.net/200000249781/product/5_e7ac9c2c34294f828a033864ad092e0b_master.jpg">
                              <img src="//product.hstatic.net/200000249781/product/5_e7ac9c2c34294f828a033864ad092e0b_master.jpg"
                              alt=" Tạp ch&#237; GGWP số 01 ">
                            </a>
                          </span>
                        </div>
                      </div>
                      <div class="product-gallery boxlazy-img" data-image="//product.hstatic.net/200000249781/product/4_165dc977a61a46a0996d6b9b822f42c9_master.jpg"
                      data-imgbuyxgety="//product.hstatic.net/200000249781/product/4_165dc977a61a46a0996d6b9b822f42c9_thumb.jpg">
                        <div class="boxlazy-img__insert lazy-img__prod">
                          <span class="boxlazy-img__aspect">
                            <a class="product-gallery__item" data-fancybox="gallery" href="//product.hstatic.net/200000249781/product/4_165dc977a61a46a0996d6b9b822f42c9_master.jpg">
                              <img src="//product.hstatic.net/200000249781/product/4_165dc977a61a46a0996d6b9b822f42c9_master.jpg"
                              alt=" Tạp ch&#237; GGWP số 01 ">
                            </a>
                          </span>
                        </div>
                      </div>
                      <div class="product-gallery boxlazy-img" data-image="//product.hstatic.net/200000249781/product/3_0a9acaa0388e42d499e799005b0371a9_master.jpg"
                      data-imgbuyxgety="//product.hstatic.net/200000249781/product/3_0a9acaa0388e42d499e799005b0371a9_thumb.jpg">
                        <div class="boxlazy-img__insert lazy-img__prod">
                          <span class="boxlazy-img__aspect">
                            <a class="product-gallery__item" data-fancybox="gallery" href="//product.hstatic.net/200000249781/product/3_0a9acaa0388e42d499e799005b0371a9_master.jpg">
                              <img src="//product.hstatic.net/200000249781/product/3_0a9acaa0388e42d499e799005b0371a9_master.jpg"
                              alt=" Tạp ch&#237; GGWP số 01 ">
                            </a>
                          </span>
                        </div>
                      </div>
                      <div class="product-gallery boxlazy-img" data-image="//product.hstatic.net/200000249781/product/1_cb779155692a483c8923e5904777afbf_master.jpg"
                      data-imgbuyxgety="//product.hstatic.net/200000249781/product/1_cb779155692a483c8923e5904777afbf_thumb.jpg">
                        <div class="boxlazy-img__insert lazy-img__prod">
                          <span class="boxlazy-img__aspect">
                            <a class="product-gallery__item" data-fancybox="gallery" href="//product.hstatic.net/200000249781/product/1_cb779155692a483c8923e5904777afbf_master.jpg">
                              <img src="//product.hstatic.net/200000249781/product/1_cb779155692a483c8923e5904777afbf_master.jpg"
                              alt=" Tạp ch&#237; GGWP số 01 ">
                            </a>
                          </span>
                        </div>
                      </div>
                      <div class="product-gallery boxlazy-img" data-image="//product.hstatic.net/200000249781/product/6_191ff459c6df4317ad0542cfd0033edb_master.jpg"
                      data-imgbuyxgety="//product.hstatic.net/200000249781/product/6_191ff459c6df4317ad0542cfd0033edb_thumb.jpg">
                        <div class="boxlazy-img__insert lazy-img__prod">
                          <span class="boxlazy-img__aspect">
                            <a class="product-gallery__item" data-fancybox="gallery" href="//product.hstatic.net/200000249781/product/6_191ff459c6df4317ad0542cfd0033edb_master.jpg">
                              <img src="//product.hstatic.net/200000249781/product/6_191ff459c6df4317ad0542cfd0033edb_master.jpg"
                              alt=" Tạp ch&#237; GGWP số 01 ">
                            </a>
                          </span>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="productGallery_thumb">
                    <div class="productList-thumb productCarousel-thumb owl-carousel" id="productCarousel-thumb">
                      <div class="product-thumb" data-image="//product.hstatic.net/200000249781/product/8_46e59d9aa2aa45c2a100c6182244dd59_compact.jpg">
                        <div class="product-thumb__item boxlazy-img">
                          <div class="boxlazy-img__insert lazy-img__prod">
                            <span class="boxlazy-img__aspect">
                              <img src="//product.hstatic.net/200000249781/product/8_46e59d9aa2aa45c2a100c6182244dd59_compact.jpg"
                              alt=" Tạp ch&#237; GGWP số 01 ">
                            </span>
                          </div>
                        </div>
                      </div>
                      <div class="product-thumb" data-image="//product.hstatic.net/200000249781/product/10_3266eae8fa7d49e1a17fcb3f224508f1_compact.jpg">
                        <div class="product-thumb__item boxlazy-img">
                          <div class="boxlazy-img__insert lazy-img__prod">
                            <span class="boxlazy-img__aspect">
                              <img src="//product.hstatic.net/200000249781/product/10_3266eae8fa7d49e1a17fcb3f224508f1_compact.jpg"
                              alt=" Tạp ch&#237; GGWP số 01 ">
                            </span>
                          </div>
                        </div>
                      </div>
                      <div class="product-thumb" data-image="//product.hstatic.net/200000249781/product/9_07e8d7093d884b478d0854908b0d1433_compact.jpg">
                        <div class="product-thumb__item boxlazy-img">
                          <div class="boxlazy-img__insert lazy-img__prod">
                            <span class="boxlazy-img__aspect">
                              <img src="//product.hstatic.net/200000249781/product/9_07e8d7093d884b478d0854908b0d1433_compact.jpg"
                              alt=" Tạp ch&#237; GGWP số 01 ">
                            </span>
                          </div>
                        </div>
                      </div>
                      <div class="product-thumb" data-image="//product.hstatic.net/200000249781/product/5_e7ac9c2c34294f828a033864ad092e0b_compact.jpg">
                        <div class="product-thumb__item boxlazy-img">
                          <div class="boxlazy-img__insert lazy-img__prod">
                            <span class="boxlazy-img__aspect">
                              <img src="//product.hstatic.net/200000249781/product/5_e7ac9c2c34294f828a033864ad092e0b_compact.jpg"
                              alt=" Tạp ch&#237; GGWP số 01 ">
                            </span>
                          </div>
                        </div>
                      </div>
                      <div class="product-thumb" data-image="//product.hstatic.net/200000249781/product/4_165dc977a61a46a0996d6b9b822f42c9_compact.jpg">
                        <div class="product-thumb__item boxlazy-img">
                          <div class="boxlazy-img__insert lazy-img__prod">
                            <span class="boxlazy-img__aspect">
                              <img src="//product.hstatic.net/200000249781/product/4_165dc977a61a46a0996d6b9b822f42c9_compact.jpg"
                              alt=" Tạp ch&#237; GGWP số 01 ">
                            </span>
                          </div>
                        </div>
                      </div>
                      <div class="product-thumb" data-image="//product.hstatic.net/200000249781/product/3_0a9acaa0388e42d499e799005b0371a9_compact.jpg">
                        <div class="product-thumb__item boxlazy-img">
                          <div class="boxlazy-img__insert lazy-img__prod">
                            <span class="boxlazy-img__aspect">
                              <img src="//product.hstatic.net/200000249781/product/3_0a9acaa0388e42d499e799005b0371a9_compact.jpg"
                              alt=" Tạp ch&#237; GGWP số 01 ">
                            </span>
                          </div>
                        </div>
                      </div>
                      <div class="product-thumb" data-image="//product.hstatic.net/200000249781/product/1_cb779155692a483c8923e5904777afbf_compact.jpg">
                        <div class="product-thumb__item boxlazy-img">
                          <div class="boxlazy-img__insert lazy-img__prod">
                            <span class="boxlazy-img__aspect">
                              <img src="//product.hstatic.net/200000249781/product/1_cb779155692a483c8923e5904777afbf_compact.jpg"
                              alt=" Tạp ch&#237; GGWP số 01 ">
                            </span>
                          </div>
                        </div>
                      </div>
                      <div class="product-thumb" data-image="//product.hstatic.net/200000249781/product/6_191ff459c6df4317ad0542cfd0033edb_compact.jpg">
                        <div class="product-thumb__item boxlazy-img">
                          <div class="boxlazy-img__insert lazy-img__prod">
                            <span class="boxlazy-img__aspect">
                              <img src="//product.hstatic.net/200000249781/product/6_191ff459c6df4317ad0542cfd0033edb_compact.jpg"
                              alt=" Tạp ch&#237; GGWP số 01 ">
                            </span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="product-percent">
                </div>
              </div>
            </div>
          </div>
          <div class="productDetail--content">
            <div class="wrapbox-inner">
              <div class="wrapbox-detail">
                <div class="product-heading">
                  <h1>
                    {{ $product->name }}
                  </h1>
                </div>
              </div>
              <div class="wrapbox-detail">
                <div class="product-price" id="price-preview">
                  <span class="pro-price">
                    {{$product->price}}₫
                  </span>
                </div>
                <form id="add-item-form" action="{{route('addToCart')}}" method="POST">	
                  @csrf
                  <input type="hidden" name="product_id" value="{{$product->id}}">
                  <div class="product-variants">
                    <p class="check-action-tt" id="check-action"></p>
                    <div class="variants">
                      <div class="select-swatch ">
                        <div class="swatch  ">
                          <div class="title-swap header">LOẠI: </div>	
                          <div class="select-swap">  
                            @foreach ($product_variant as $product )
                              <div class="n-sd swatch-element @if($product->inventory_quantity == 0) soldout @endif" data-id='{{$product->id}}'>
                                <label data-value='{{$product->name}}'>
                                  <span >{{$product->name}}</span>
                                  <input type="radio" name='variant' value="{{$product->name}}">
                                </label>
                              </div>
                            @endforeach
                          </div>
                        </div>
                      </div>  
                    </div>	
                  </div>
                  <div class="product-actions">
                    <div class="select-actions clearfix">
                      <div class="quantity-area">
                        <div class="pro-qty ">
                          <div class="quantity-title">
                            Số lượng:
                          </div>
                          <div class="btn-qty">
                            <button type="button"  onclick="minusQuantity()"  class="qty-btn">
                              <svg focusable="false" class="icon icon--minus " viewBox="0 0 10 2" role="presentation">
                                <path d="M10 0v2H0V0z">
                                </path>
                              </svg>
                            </button>
                            <input type="text" id="quantity" name="quantity" value="1" min="1" class="quantity-input">
                            <button type="button" onclick="plusQuantity()" class="qty-btn">
                              <svg focusable="false" class="icon icon--plus " viewBox="0 0 10 10" role="presentation">
                                <path d="M6 4h4v2H6v4H4V6H0V4h4V0h2v4z">
                                </path>
                              </svg>
                            </button>
                          </div>
                        </div>
                        <div class="pro-share" id="share-mobile">
                          <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 512 512.00508">
                            <g>
                              <path d="m453.335938 512.003906h-394.667969c-32.363281 0-58.66406275-26.304687-58.66406275-58.664062v-309.335938c0-32.363281 26.30078175-58.664062 58.66406275-58.664062h74.667969c8.832031 0 16 7.167968 16 16 0 8.832031-7.167969 16-16 16h-74.667969c-14.699219 0-26.664063 11.964844-26.664063 26.664062v309.335938c0 14.695312 11.964844 26.664062 26.664063 26.664062h394.667969c14.699218 0 26.667968-11.96875 26.667968-26.664062v-181.335938c0-8.832031 7.167969-16 16-16 8.832032 0 16 7.167969 16 16v181.335938c0 32.359375-26.304687 58.664062-58.667968 58.664062zm0 0">
                              </path>
                              <path d="m143.980469 341.0625c-1.171875 0-2.347657-.128906-3.519531-.429688-7.230469-1.683593-12.457032-7.871093-12.457032-15.292968v-32c0-114.6875 93.3125-208 208-208h5.332032v-69.335938c0-6.527344 3.96875-12.394531 10.027343-14.847656 6.035157-2.429688 12.96875-.960938 17.492188 3.753906l138.667969 144c5.972656 6.1875 5.972656 16 0 22.1875l-138.667969 144c-4.523438 4.714844-11.5 6.167969-17.492188 3.753906-6.058593-2.453124-10.027343-8.320312-10.027343-14.847656v-69.332031h-25.34375c-67.113282 0-127.425782 37.289063-157.417969 97.300781-2.753907 5.546875-8.535157 9.089844-14.59375 9.089844zm192.023437-223.722656c-89.601562 0-163.796875 67.304687-174.65625 154.023437 38.78125-43.261719 94.398438-68.691406 154.644532-68.691406h41.34375c8.832031 0 16 7.167969 16 16v45.652344l100.457031-104.320313-100.457031-104.320312v45.65625c0 8.832031-7.167969 16-16 16zm0 0">
                              </path>
                            </g>
                          </svg>
                          <span>
                            Chia sẻ
                          </span>
                        </div>
                      </div>
                      <div class="addcart-area ">
                        <button type="submit" id="click-add-item" class="add-to-cartProduct button dark btn-addtocart addtocart-modal">
                          Thêm vào giỏ
                        </button>
                        <button type="submit" id="buy-now" class="  button dark btn-buynow btnred addtocart-modal"
                        >
                          Mua ngay
                        </button>
                      </div>
                    </div>
                  </div>
                </form>
                <div class="productDetail--box box-detail-description mg-top">
                  <div class="product-description">
                    <div class="box-title">
                      <h2>
                        Mô tả sản phẩm
                      </h2>
                    </div>
                    <div class="description-content expandable-toggle opened">
                      <div class="description-productdetail" style="height: 220px; overflow: hidden;">
                        <strong>
                          Tạp chí GGWP số 01 (Đã có sẵn)
                        </strong>
                        <p>
                          Sau 1 thời gian dài lên ý tưởng thử nghiệm, GGWP 1 chính thức ra mắt –
                          đánh dấu cột mốc mới trên chặng đường đầy tâm huyết của chúng mình, mong
                          muốn tạo ra 1 ấn phẩm đọc thực sự chất lượng, chuyên nghiệp về video games.
                          Với những bài viết được lựa chọn, sáng tác và biên tập kỹ càng về nhiều
                          chủ đề, hy vọng GGWP sẽ trở thành “món ăn tinh thần” không thể thiếu của
                          những người yêu games. Còn giờ thì … Good Game Well Played.
                          <br>
                          <br>
                          <em>
                            <strong>
                              MÔ TẢ
                            </strong>
                          </em>
                          <br>
                          <strong>
                            <em>
                              - Kích thước sách: 20x27cm
                              <br>
                              - Số trang: 132 trang in màu
                            </em>
                          </strong>
                          <br>
                          &nbsp;
                        </p>
                      </div>
                      <div class="description-btn">
                        <button class="expandable-content_toggle js_expandable_content">
                          <span class="expandable-content_toggle-icon">
                          </span>
                          <span class="expandable-content_toggle-text">
                            Xem thêm nội dung
                          </span>
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
  </div>
  </section>
  </div>
</main>
@endsection

@section('customJs')
  <script>
    $('.swatch-element').click(function() {
      // Pick Variant
      if(!$(this).hasClass('soldout')) {
        // Lấy giá trị của thuộc tính data-id
        var productId = $(this).data('id');
          // Xóa class "sd" khỏi tất cả các label trước khi thêm vào label hiện tại
          $('.swatch-element label').removeClass('sd');
          // Thêm class "sd" cho label bên trong phần tử .swatch-element vừa click
          $(this).find('label').addClass('sd');
          // In ra console để kiểm tra (bạn có thể xóa dòng này sau)
          console.log('ID của sản phẩm đã chọn: ' + productId);
          $('.product-variants').removeClass('check-action-variant');
          const divElement = document.getElementById('check-action');
          divElement.textContent = "";
      }
    });

    // Quantity
    var quantityInput = document.getElementById("quantity");

    function plusQuantity() {
        var currentQuantity = parseInt(quantityInput.value);
        quantityInput.value = currentQuantity + 1;
    }

    function minusQuantity() {
        var currentQuantity = parseInt(quantityInput.value);
        if (currentQuantity > 1) {
            quantityInput.value = currentQuantity - 1;
        }
    }
  </script> 
  <script>
    $(document).ready(function() {
        $('#click-add-item').click(function(e) {
            e.preventDefault(); 
            var formData = $('#add-item-form').serialize(); // Chuyển đổi dữ liệu form thành chuỗi
            $.ajax({
                url: '{{route('addToCart')}}',
                type: 'POST',
                data: formData,
                success: function(response) {
                  if(response['status']) {
                    console.log('Them san pham thanh cong ')
                    console.log(response['data']);
                    $('#cart-notification').removeClass('hidden').fadeIn(); // Hiển thị thông báo với hiệu ứng fadeIn
                  }else{
                    $('.product-variants').addClass('check-action-variant');
                    const divElement = document.getElementById('check-action');
                    divElement.textContent = "Vui lòng chọn biến thể";
                  }
                },
                error: function(error) {
                    console.error(error);
                }
            });
        });
    });
  </script>
@endsection
